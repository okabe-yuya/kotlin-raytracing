/*
 * This source file was generated by the Gradle 'init' task
 */
package org.example

import kotlin.math.cos
import org.example.Camera
import org.example.Rtweekend.*
import org.example.Hittable
import org.example.HittableList
import org.example.Sphere


fun main() {
    val world: HittableList = HittableList()

    val materialGround = Lambertian(Color(0.8, 0.8, 0.0))
    val materialCenter = Lambertian(Color(0.1, 0.2, 0.5))
    val materialLeft = Dielectric(1.50)
    val materialBubble = Dielectric(1.00 / 1.50)
    val materialRight = Metal(Color(0.8, 0.6, 0.2), 1.0)

    world.add(Sphere(Point3(0.0, -100.5, -1.0), 100.0, materialGround))
    world.add(Sphere(Point3(0.0, 0.0, -1.2), 0.5, materialCenter))
    world.add(Sphere(Point3(-1.0, 0.0, -1.0), 0.5, materialLeft))
    world.add(Sphere(Point3(-1.0, 0.0, -1.0), 0.4, materialBubble))
    world.add(Sphere(Point3(1.0, -0.0, -1.0), 0.5, materialRight))

    val cam = Camera(
        aspectRatio = 16.0 / 9.0,
        imageWidth = 400,
        samplesPerPixel = 100,
        vFov = 20.0,
        lookFrom = Point3(-2.0, 2.0, 1.0),
        lookAt = Point3(0.0, 0.0, -1.0),
        vup = Vec3(0.0, 1.0, 0.0),
        defocusAngle = 10.0,
        focusDist = 3.4,
    )
    cam.render(world)
}

